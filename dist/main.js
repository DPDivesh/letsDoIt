(()=>{"use strict";const e=firebase.firestore(),{serverTimestamp:t}=firebase.firestore.FieldValue,o=firebase.firestore(),n=firebase.auth();function l(){document.querySelector(".project-add").remove()}let a=[];const c=()=>{let e={name:"Notifications",emoji:y.Notifications,id:"notifPage"},t={makePage:()=>{console.log("Notifications Page"),console.log("hey it's Zuko here"),document.querySelector("body").style.color="red",document.querySelector(".mainContentContainer")}};return Object.assign({},d(e),t,e)},i=e=>{let t={name:"Today",emoji:y.Today,id:"TodayPage"},o={makePage:()=>{console.log("Today Page"),document.querySelector("body").style.color="blue",console.log("hey it's Zuko here")}};return Object.assign({},d(t),o,t)},s=()=>{let e={name:"This Week",emoji:y.thisWeek,id:"weekPage"},t={makePage:()=>{console.log("Week Page"),document.querySelector("body").style.color="orange",console.log("hey it's Zuko here")}};return Object.assign({},d(e),t,e)},r=()=>{let e={name:"This Month",emoji:y.thisMonth,id:"monthPage"},t={makePage:()=>{console.log("Month Page"),document.querySelector("body").style.color="pink",console.log("hey it's Zuko here")}};return Object.assign({},d(e),t,e)},d=e=>({build:()=>{console.log(e.name+"hi");let t=document.querySelector(".defaultButtonContainer"),o=document.createElement("div"),n=document.createElement("p"),l=document.createElement("img");o.id=e.id,l.src=e.emoji,l.className="buttonIcon",function(e,t){e.addEventListener("click",(o=>{console.log(t.length,"huh");for(let o=0;o<t.length;o++)t[o].id==e.id&&(console.log(t[o].name,"I matched"),t[o].makePage())}))}(o,a),o.append(l),o.className="defaultButtons",console.log(t),l.style.marginLeft="12%",n.innerHTML=e.name,o.append(n),t.appendChild(o),console.log(t,"hi")}});const{serverTimestamp:u}=firebase.firestore.FieldValue,m=firebase.firestore();function p(t){let o,n,l,a=document.querySelector(".mainContentContainer");console.log("yoo",t,firebase.auth().currentUser.uid),n=o,l=m.collection("projects").where("uid","==",firebase.auth().currentUser.uid),function(){let t=document.querySelector(".mainContentContainer"),o=document.createElement("div"),n=document.createElement("h1");n.innerHTML=document.title,o.className="page-header",n.className="page-header-text",o.appendChild(n),document.querySelector(".mainContentContainer").append(o),console.log(t,n,o),console.log("i am def working :((("),function(){console.log("making circle");let t=document.querySelector(".mainContentContainer"),o=document.createElement("button");o.className="circleSubmit",console.log("huh"),o.addEventListener("click",(()=>{console.log("circle technique"),null==document.querySelector(".project-add")&&null==document.querySelector(".task-add")&&(console.log("Add"),function(){let t=document.createElement("div");t.className="task-add";let o=document.createElement("div");o.className="task-add__innerLayer";let n=document.createElement("input");n.type="submit",n.className="submit-task";let l=document.createElement("div");l.className="cancel-submit",l.innerHTML="Cancel";let a=document.createElement("form"),c=document.createElement("input"),i=document.createElement("input"),s=document.createElement("label"),r=document.createElement("div");r.className="drop-down";let d=document.createElement("span");d.innerHTML="Priority";let u=document.createElement("div");u.className="input-dropdown";let p=document.createElement("p"),h=document.createElement("p"),f=document.createElement("p");p.innerHTML="Priority 1",h.innerHTML="Priority 2",f.innerHTML="Priority 3",p.className="priority-one",h.className="priority-two",f.className="priority-three",r.appendChild(d),r.append(u),u.append(p,h,f),i.id="myDate",i.className="date-picker",i.type="date",i.value="",s.innerHTML="Due Date:";let y=document.createElement("label");a.className="form-container",y.className="form-group",y.setAttribute("for","createNewTask"),y.innerHTML="Submit a New Task",c.name="createNewTask",c.className="input-tasks",c.type="text",c.required=!0,c.pattern="^[a-zA-Z]{3,10}$",c.id="taskName",c.placeholder="Task Title",o.style.backgroundColor="#FFFFF";let C=document.querySelector(".mainContentContainer");o.appendChild(a),a.appendChild(y),a.appendChild(document.createElement("br")),C.appendChild(t),a.appendChild(c),a.appendChild(s),a.appendChild(i),a.appendChild(r),t.appendChild(o);let b=document.createElement("div");var E,N,v;b.className="task-button-holder",b.append(n),b.append(l),a.append(b),E=h,N=f,v=d,p.addEventListener("click",(()=>{v.innerHTML="Priority 1",v.style.color="#780000"})),E.addEventListener("click",(()=>{v.innerHTML="Priority 2",v.style.color="#BDAA01"})),N.addEventListener("click",(()=>{v.innerHTML="Priority 3",v.style.color="#097200"})),a.addEventListener("submit",(t=>{t.preventDefault();let o=document.getElementById("taskName").value;o=o.toLowerCase(),console.log(o);const n=o.split(" ");for(let e=0;e<n.length;e++)n[e]=n[e].charAt(0).toUpperCase()+n[e].slice(1);let l,a,c;o=n.join(" "),console.log(o),a=l,c=m.collection("projects").where("uid","==",firebase.auth().currentUser.uid),l=c.where("name","==",document.title).orderBy("createdAt"),console.log(l.name),console.log("reference point"),l.get().then((t=>{t.docs.forEach((t=>{console.log(t.id,"data"),function(t,o){e.collection("projects").doc(o).update({"project.tasks":firebase.firestore.FieldValue.arrayUnion(t)})}(o,t.id)}))})),console.log("------"),g()})),l.addEventListener("click",(e=>{e.preventDefault(),g()}))}())})),t.append(o),console.log(document.querySelector(".circleSubmit"))}()}();let c=document.createElement("div");c.className="main-page-schedule";let i=document.createElement("h2");i.className="main-page-schedule-title",i.innerHTML="Todos",c.append(i);let s=document.createElement("div");s.className="main-page-schedule-list",c.append(s),a.append(c),o=l.where("name","==",document.title).orderBy("createdAt"),o.onSnapshot((e=>{let t=e.docs.map((e=>{console.log(e.data().project.tasks.length,"length");let t=[];for(let o=0;o<e.data().project.tasks.length;o++)if(t.push(`<div class="added-tasks" data-id=${e.id}><input type="checkbox" class="todo-checkbox"><label class="added-tasks-text">${e.data().project.tasks[o]}</label></div>`),console.log(t),t.length==e.data().project.tasks.length)return console.log(t),t.join("   ")}));console.log("why these tabs",t),console.log(t,"sdasd"),s.innerHTML=t}))}function g(){document.querySelector(".task-add").remove()}const h=firebase.firestore(),f=firebase.auth(),y={arrowExpand:"images/arrowExpand.png",Notifications:"images/notifications.png",Today:"images/today.png",thisWeek:"images/thisWeek.png",thisMonth:"images/thisMonth.png",plusIcon:"images/plusIcon.png"};function C(){!function(){const e=document.body;console.log(e);const t=document.createElement("div");t.className="navContentContainer",e.appendChild(t),function(e){const t=document.createElement("div");t.className="defaultButtonContainer",e.appendChild(t)}(t),function(){const e=document.querySelector(".navContentContainer");let t=document.createElement("div");t.className="projectsNav";let a=document.createElement("p");a.innerHTML="Projects",t.appendChild(a),e.appendChild(t);let c=document.createElement("img");c.src=y.plusIcon,c.className="imgExpand",c.addEventListener("click",(()=>{if(null==document.querySelector(".project-add")&&null==document.querySelector(".task-add")){console.log("Add");let e=document.createElement("div");e.className="project-add";let t=document.createElement("div");t.className="project-add__innerLayer";let a=document.createElement("input");a.type="submit",a.className="submit-project";let c=document.createElement("div");c.className="cancel-submit",c.innerHTML="Cancel";let i=document.createElement("form"),s=document.createElement("input"),r=document.createElement("label");i.className="form-container",r.className="form-group",r.setAttribute("for","createNewProject"),r.innerHTML="Submit a New Project",s.name="createNewProject",s.className="input-projects",s.type="text",s.required=!0,s.pattern="^[a-zA-Z]{3,10}+$",s.id="projectName",s.placeholder="Project Title",t.style.backgroundColor="#FFFFF";let d=document.querySelector(".mainContentContainer");t.appendChild(i),i.appendChild(r),i.appendChild(document.createElement("br")),d.appendChild(e),i.appendChild(s),e.appendChild(t);let u=document.createElement("div");u.className="project-button-holder",u.append(a),u.append(c),i.append(u),i.addEventListener("submit",(e=>{e.preventDefault();let t=document.getElementById("projectName").value;t=t.toLowerCase(),console.log(t);const a=t.split(" ");for(let e=0;e<a.length;e++)a[e]=a[e].charAt(0).toUpperCase()+a[e].slice(1);t=a.join(" ");let c,i={name:t,tasks:[]};console.log("------"),console.log(i,i.name),console.log("------"),n.onAuthStateChanged((e=>{if(e){c=o.collection("users");const{serverTimestamp:t}=firebase.firestore.FieldValue;setDoc(doc(o,"users","sdasdasdas"),{uid:e.uid,userName:e.displayName,project:i,name:i.name,createdAt:t()}),console.log("working?")}else console.log("User Logged Out")})),l()})),c.addEventListener("click",(e=>{e.preventDefault(),l()}))}})),t.appendChild(c)}(),function(e){const t=document.createElement("div");let o,n;t.className="addedButtonContainer",console.log("live list"),f.onAuthStateChanged((e=>{e?(o=n,n=h.collection("projects").where("uid","==",e.uid).orderBy("createdAt").onSnapshot((e=>{const t=e.docs.map((e=>`<div class=addedButtons><p>${e.data().name}</p></div>`));console.log("why these tabs",t),document.querySelector(".addedButtonContainer").innerHTML=t.join(""),function(){let e=document.querySelectorAll(".addedButtons");console.log(e,"getttin buttonsdsadas"),e.forEach((e=>e.addEventListener("click",(e=>{console.log("this is a button click test",e.target.textContent),document.title=e.target.textContent,function(){let e=document.querySelector(".mainContentContainer");if(null!=e.firstChild)for(;e.firstChild;)"circleSubmit"!=e.firstChild.class&&e.removeChild(e.firstChild)}(),p(e.target.textContent)}))))}()}))):o&&o()})),e.appendChild(t)}(t),function(e){const t=document.createElement("div");t.className="viewAllProjectsContainer",e.appendChild(t)}(t),function(e){const t=document.createElement("input");t.type="submit",t.value="View All Projects",t.className="viewAllProjectsButton",e.appendChild(t)}(document.querySelector(".viewAllProjectsContainer"))}(),c().build(),a.push(c()),console.log(a),i().build(),a.push(i()),s().build(),a.push(s()),r().build(),a.push(r())}const b=firebase.firestore();(()=>{const e=firebase.auth(),t=new firebase.auth.GoogleAuthProvider;e.onAuthStateChanged((o=>{let n;console.log(n," info"),b.collection("users").where("uid","==",o.uid).get().then((e=>{e.docs.forEach((e=>(n=e.data(),n)))})).catch((e=>{console.log("Error getting documents: ","Generating New File",e)})),console.log(n," info");let l=b.collection("users").where(o.uid,"==","uid");if(console.log(l.email),null!=l.uid)console.log("welcome",o.displayName,o.email),console.log(b.collection("users").where("uid","==",o.uid).uid),console.log(b.collection("users").where(o.uid,"==","uid")),b.collection("users").where(o.uid,"==","uid").get().then((e=>{e.docs.map((e=>{console.log(e.data().uid,"uid"),console.log("is there files"),C(),function(){const e=document.body;console.log(e);const t=document.createElement("div");t.className="mainContentContainer",e.appendChild(t),z}()}))})).catch((e=>{console.log("Error getting documents: ","Generating New File",e);const{serverTimestamp:t}=firebase.firestore.FieldValue;b.collection("users").doc(o.id).set({uid:o.uid,userName:o.displayName,email:o.email,createdAt:t()})}));else{console.log("User Logged Out",o.uid,b.collection("users").where(o.uid,"==","uid").uid);let n=document.createElement("div");n.className="site-login";let l=document.createElement("div");l.className="site-login_innerLayer";let a=document.createElement("div");a.className="goog-sign-in";let c=document.createElement("button");c.className="goog-button";let i=document.createElement("img");i.className="goog-logo",i.src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/157px-Google_%22G%22_Logo.svg.png",i.alt="Google Logo";let s=document.createElement("p");s.innerHTML="Sign in with Google",s.className="goog-text",c.appendChild(i),c.appendChild(s),a.appendChild(c),l.style.backgroundColor="#FFFFF",document.body.appendChild(n),n.appendChild(l);let r=document.querySelector(".site-login_innerLayer");console.log(a),r.append(a),c.onclick=()=>{if(e.signInWithPopup(t),null==b.collection("users").where(o.uid,"==","uid").uid){const{serverTimestamp:e}=firebase.firestore.FieldValue;b.collection("users").doc(o.id).set({uid:o.uid,userName:o.displayName,email:o.email,createdAt:e()})}}}}))})()})();