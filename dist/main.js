(()=>{"use strict";const e=firebase.firestore(),{serverTimestamp:t}=firebase.firestore.FieldValue,n=firebase.firestore(),o=firebase.auth();function a(){document.querySelector(".project-add").remove()}let l=[];const c=()=>{let e={name:"Notifications",emoji:y.Notifications,id:"notifPage"},t={makePage:()=>{console.log("Notifications Page"),console.log("hey it's Zuko here"),document.querySelector("body").style.color="red",document.querySelector(".mainContentContainer")}};return Object.assign({},d(e),t,e)},i=e=>{let t={name:"Today",emoji:y.Today,id:"TodayPage"},n={makePage:()=>{console.log("Today Page"),document.querySelector("body").style.color="blue",console.log("hey it's Zuko here")}};return Object.assign({},d(t),n,t)},r=()=>{let e={name:"This Week",emoji:y.thisWeek,id:"weekPage"},t={makePage:()=>{console.log("Week Page"),document.querySelector("body").style.color="orange",console.log("hey it's Zuko here")}};return Object.assign({},d(e),t,e)},s=()=>{let e={name:"This Month",emoji:y.thisMonth,id:"monthPage"},t={makePage:()=>{console.log("Month Page"),document.querySelector("body").style.color="pink",console.log("hey it's Zuko here")}};return Object.assign({},d(e),t,e)},d=e=>({build:()=>{console.log(e.name+"hi");let t=document.querySelector(".defaultButtonContainer"),n=document.createElement("div"),o=document.createElement("p"),a=document.createElement("img");n.id=e.id,a.src=e.emoji,a.className="buttonIcon",function(e,t){e.addEventListener("click",(n=>{console.log(t.length,"huh");for(let n=0;n<t.length;n++)t[n].id==e.id&&(console.log(t[n].name,"I matched"),t[n].makePage())}))}(n,l),n.append(a),n.className="defaultButtons",console.log(t),a.style.marginLeft="12%",o.innerHTML=e.name,n.append(o),t.appendChild(n),console.log(t,"hi")}});const{serverTimestamp:m}=firebase.firestore.FieldValue,u=firebase.firestore();function p(t){let n,o,a,l=document.querySelector(".mainContentContainer");console.log("yoo",t,firebase.auth().currentUser.uid),o=n,a=u.collection("projects").where("uid","==",firebase.auth().currentUser.uid),function(){let t=document.querySelector(".mainContentContainer"),n=document.createElement("div"),o=document.createElement("h1");o.innerHTML=document.title,n.className="page-header",o.className="page-header-text",n.appendChild(o),document.querySelector(".mainContentContainer").append(n),console.log(t,o,n),console.log("i am def working :((("),function(){console.log("making circle");let t=document.querySelector(".mainContentContainer"),n=document.createElement("button");n.className="circleSubmit",console.log("huh"),n.addEventListener("click",(()=>{console.log("circle technique"),null==document.querySelector(".project-add")&&null==document.querySelector(".task-add")&&(console.log("Add"),function(){let t=document.createElement("div");t.className="task-add";let n=document.createElement("div");n.className="task-add__innerLayer";let o=document.createElement("input");o.type="submit",o.className="submit-task";let a=document.createElement("div");a.className="cancel-submit",a.innerHTML="Cancel";let l=document.createElement("form"),c=document.createElement("input"),i=document.createElement("input"),r=document.createElement("label"),s=document.createElement("div");s.className="drop-down";let d=document.createElement("span");d.innerHTML="Priority";let m=document.createElement("div");m.className="input-dropdown";let p=document.createElement("p"),h=document.createElement("p"),f=document.createElement("p");p.innerHTML="Priority 1",h.innerHTML="Priority 2",f.innerHTML="Priority 3",p.className="priority-one",h.className="priority-two",f.className="priority-three",s.appendChild(d),s.append(m),m.append(p,h,f),i.id="myDate",i.className="date-picker",i.type="date",i.value="",r.innerHTML="Due Date:";let y=document.createElement("label");l.className="form-container",y.className="form-group",y.setAttribute("for","createNewTask"),y.innerHTML="Submit a New Task",c.name="createNewTask",c.className="input-tasks",c.type="text",c.required=!0,c.pattern="^[a-zA-Z]{3,10}$",c.id="taskName",c.placeholder="Task Title",n.style.backgroundColor="#FFFFF";let C=document.querySelector(".mainContentContainer");n.appendChild(l),l.appendChild(y),l.appendChild(document.createElement("br")),C.appendChild(t),l.appendChild(c),l.appendChild(r),l.appendChild(i),l.appendChild(s),t.appendChild(n);let b=document.createElement("div");var v,E,N;b.className="task-button-holder",b.append(o),b.append(a),l.append(b),v=h,E=f,N=d,p.addEventListener("click",(()=>{N.innerHTML="Priority 1",N.style.color="#780000"})),v.addEventListener("click",(()=>{N.innerHTML="Priority 2",N.style.color="#BDAA01"})),E.addEventListener("click",(()=>{N.innerHTML="Priority 3",N.style.color="#097200"})),l.addEventListener("submit",(t=>{t.preventDefault();let n=document.getElementById("taskName").value;n=n.toLowerCase(),console.log(n);const o=n.split(" ");for(let e=0;e<o.length;e++)o[e]=o[e].charAt(0).toUpperCase()+o[e].slice(1);let a,l,c;n=o.join(" "),console.log(n),l=a,c=u.collection("projects").where("uid","==",firebase.auth().currentUser.uid),a=c.where("name","==",document.title).orderBy("createdAt"),console.log(a.name),console.log("reference point"),a.get().then((t=>{t.docs.forEach((t=>{console.log(t.id,"data"),function(t,n){e.collection("projects").doc(n).update({"project.tasks":firebase.firestore.FieldValue.arrayUnion(t)})}(n,t.id)}))})),console.log("------"),g()})),a.addEventListener("click",(e=>{e.preventDefault(),g()}))}())})),t.append(n),console.log(document.querySelector(".circleSubmit"))}()}();let c=document.createElement("div");c.className="main-page-schedule";let i=document.createElement("h2");i.className="main-page-schedule-title",i.innerHTML="Todos",c.append(i);let r=document.createElement("div");r.className="main-page-schedule-list",c.append(r),l.append(c),n=a.where("name","==",document.title).orderBy("createdAt"),n.onSnapshot((e=>{let t=e.docs.map((e=>{console.log(e.data().project.tasks.length,"length");let t=[];for(let n=0;n<e.data().project.tasks.length;n++)if(t.push(`<div class="added-tasks" data-id=${e.id}><input type="checkbox" class="todo-checkbox"><label class="added-tasks-text">${e.data().project.tasks[n]}</label></div>`),console.log(t),t.length==e.data().project.tasks.length)return console.log(t),t.join("   ")}));console.log("why these tabs",t),console.log(t,"sdasd"),r.innerHTML=t}))}function g(){document.querySelector(".task-add").remove()}const h=firebase.firestore(),f=firebase.auth(),y={arrowExpand:"images/arrowExpand.png",Notifications:"images/notifications.png",Today:"images/today.png",thisWeek:"images/thisWeek.png",thisMonth:"images/thisMonth.png",plusIcon:"images/plusIcon.png"};function C(){!function(){const e=document.body;console.log(e);const t=document.createElement("div");t.className="navContentContainer",e.appendChild(t),function(e){const t=document.createElement("div");t.className="defaultButtonContainer",e.appendChild(t)}(t),function(){const e=document.querySelector(".navContentContainer");let t=document.createElement("div");t.className="projectsNav";let l=document.createElement("p");l.innerHTML="Projects",t.appendChild(l),e.appendChild(t);let c=document.createElement("img");c.src=y.plusIcon,c.className="imgExpand",c.addEventListener("click",(()=>{if(null==document.querySelector(".project-add")&&null==document.querySelector(".task-add")){console.log("Add");let e=document.createElement("div");e.className="project-add";let t=document.createElement("div");t.className="project-add__innerLayer";let l=document.createElement("input");l.type="submit",l.className="submit-project";let c=document.createElement("div");c.className="cancel-submit",c.innerHTML="Cancel";let i=document.createElement("form"),r=document.createElement("input"),s=document.createElement("label");i.className="form-container",s.className="form-group",s.setAttribute("for","createNewProject"),s.innerHTML="Submit a New Project",r.name="createNewProject",r.className="input-projects",r.type="text",r.required=!0,r.pattern="^[a-zA-Z]{3,10}+$",r.id="projectName",r.placeholder="Project Title",t.style.backgroundColor="#FFFFF";let d=document.querySelector(".mainContentContainer");t.appendChild(i),i.appendChild(s),i.appendChild(document.createElement("br")),d.appendChild(e),i.appendChild(r),e.appendChild(t);let m=document.createElement("div");m.className="project-button-holder",m.append(l),m.append(c),i.append(m),i.addEventListener("submit",(e=>{e.preventDefault();let t=document.getElementById("projectName").value;t=t.toLowerCase(),console.log(t);const l=t.split(" ");for(let e=0;e<l.length;e++)l[e]=l[e].charAt(0).toUpperCase()+l[e].slice(1);t=l.join(" ");let c,i={name:t,tasks:[]};console.log("------"),console.log(i,i.name),console.log("------"),o.onAuthStateChanged((e=>{if(e){c=n.collection("users");const{serverTimestamp:t}=firebase.firestore.FieldValue;setDoc(doc(n,"users","sdasdasdas"),{uid:e.uid,userName:e.displayName,project:i,name:i.name,createdAt:t()}),console.log("working?")}else console.log("User Logged Out")})),a()})),c.addEventListener("click",(e=>{e.preventDefault(),a()}))}})),t.appendChild(c)}(),function(e){const t=document.createElement("div");let n,o;t.className="addedButtonContainer",console.log("live list"),f.onAuthStateChanged((e=>{e?(n=o,o=h.collection("projects").where("uid","==",e.uid).orderBy("createdAt").onSnapshot((e=>{const t=e.docs.map((e=>`<div class=addedButtons><p>${e.data().name}</p></div>`));console.log("why these tabs",t),document.querySelector(".addedButtonContainer").innerHTML=t.join(""),function(){let e=document.querySelectorAll(".addedButtons");console.log(e,"getttin buttonsdsadas"),e.forEach((e=>e.addEventListener("click",(e=>{console.log("this is a button click test",e.target.textContent),document.title=e.target.textContent,function(){let e=document.querySelector(".mainContentContainer");if(null!=e.firstChild)for(;e.firstChild;)"circleSubmit"!=e.firstChild.class&&e.removeChild(e.firstChild)}(),p(e.target.textContent)}))))}()}))):n&&n()})),e.appendChild(t)}(t),function(e){const t=document.createElement("div");t.className="viewAllProjectsContainer",e.appendChild(t)}(t),function(e){const t=document.createElement("input");t.type="submit",t.value="View All Projects",t.className="viewAllProjectsButton",e.appendChild(t)}(document.querySelector(".viewAllProjectsContainer"))}(),c().build(),l.push(c()),console.log(l),i().build(),l.push(i()),r().build(),l.push(r()),s().build(),l.push(s())}const b=firebase.firestore();(()=>{const e=firebase.auth(),t=new firebase.auth.GoogleAuthProvider;e.onAuthStateChanged((n=>{if(n)console.log("welcome",n.displayName),C(),function(){const e=document.body;console.log(e);const t=document.createElement("div");t.className="mainContentContainer",e.appendChild(t),function(e){const t=document.createElement("div");t.className="signOutContainer",e.appendChild(t)}(t),function(e){const t=document.createElement("input");t.type="submit",t.value="Sign Out",t.className="signOut",t.addEventListener("click",(()=>{document.querySelector(".navContentContainer").remove(),document.querySelector(".mainContentContainer").remove(),firebase.auth().signOut().then((()=>{console.log("sign out Successful")})).catch((e=>{console.log("Log Out Failed")}))})),e.appendChild(t)}(document.querySelector(".signOutContainer"))}();else{let o=document.createElement("div");o.className="site-login";let a=document.createElement("div");a.className="site-login_innerLayer";let l=document.createElement("div");l.className="goog-sign-in";let c=document.createElement("button");c.className="goog-button";let i=document.createElement("img");i.className="goog-logo",i.src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/157px-Google_%22G%22_Logo.svg.png",i.alt="Google Logo";let r=document.createElement("p");r.innerHTML="Sign in with Google",r.className="goog-text",c.appendChild(i),c.appendChild(r),l.appendChild(c),a.style.backgroundColor="#FFFFF",document.body.appendChild(o),o.appendChild(a);let s=document.querySelector(".site-login_innerLayer");console.log(l),s.append(l),c.onclick=()=>{e.signInWithPopup(t).then((e=>{if(console.log(e.additionalUserInfo.isNewUser),1==e.additionalUserInfo.isNewUser){const{serverTimestamp:e}=firebase.firestore.FieldValue;b.collection("users").doc(n.id).set({uid:n.uid,userName:n.displayName,email:n.email,createdAt:e()})}else document.querySelector(".site-login").remove()}))}}}))})()})();